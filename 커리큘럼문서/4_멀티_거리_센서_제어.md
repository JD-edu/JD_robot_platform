## 멀티 커리센서를 제어해 보기 

### 4개의 거리센서를 제어하기 
4바퀴로봇은 앞, 뒤, 오른쪽, 왼쪽 4군데에 거리센서가 있습니다. 이 4개의센서를 이용해서 장애물 회피 주행, 미로주행, 간이 자율주행 등을 할 수 있습니다. 거리센서는 I2C로 제어되는데 보통 같은 컴포넌트는 같은 I2C 주소를 가지게 됩니다. 그래서 여러개의 같은 센서를 하나의 시스템에서 사용하려면 IO 하나를 사용해서 센서들을 구별해 주어야 합니다. 바퀴로봇의 4 거리샌서는 다음과 같은 구조로 배선되어 있습니다. 

[멀티_커리센서_신호구성.pptx](https://github.com/JD-edu/JD_robot_platform/files/12385181/_._.pptx)

IO32, IO33, IO25, IO13이 각각 4개의 센서의 XSHUT 신호에 연결되어 있습니다. 이 신호를 통해서 4개의 거리센서를 구별합 수 있습니다. 

### 에제코드 돌려보기 
깃허브에서 다운로드 받은 소스코드 중에서 "103_esp32_multi_dist_sensor" 폴더에 101_esp32_multi_dist_senso.ino 소스코드 파일을 아두이노 IDE 파일 -> 열기 로 엽니다. 이 코드는 4바퀴로봇의 전방에 설치된 VL53L0X 거리센서를 이용해서 전방 장애물을 감지할 수 있습니다.

#### setup() 함수 코딩 전에 정의할 것  

4개의 센서를 하나의 I2C 버스로 동작시키기 위해서 IO개를 사용해야 합니다. 그래서 제어보드의 4개 IO를 다음과 같은 이름으로 정의해 줍니다. 그리고 4개 센서의 주소도 별도로 정의해 줍니다. VL53L0X 센서는 이 IO를 사용해서 기본 주소외에 다른 주소로 변경하는 것이 가능합니다. 주소 변경 방법은 setup() 함수에서 설명합니다.  

```C
#include "Adafruit_VL53L0X.h"

// set the pins to shutdown
#define SHT_LOX1 32
#define SHT_LOX2 33
#define SHT_LOX3 25
#define SHT_LOX4 13

#define LOX1_ADDRESS 0x40
#define LOX2_ADDRESS 0x41
#define LOX3_ADDRESS 0x42
#define LOX4_ADDRESS 0x43
```


